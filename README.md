# ğŸ  DormFix â€” à¸£à¸°à¸šà¸šà¹à¸ˆà¹‰à¸‡à¸‹à¹ˆà¸­à¸¡à¸«à¸­à¸à¸±à¸

à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¹à¸ˆà¹‰à¸‡à¸‹à¹ˆà¸­à¸¡à¸ªà¸³à¸«à¸£à¸±à¸šà¸«à¸­à¸à¸±à¸ à¸à¸±à¸’à¸™à¸²à¸”à¹‰à¸§à¸¢ React + Node.js + MySQL  
à¸£à¸­à¸‡à¸£à¸±à¸š 3 à¸šà¸—à¸šà¸²à¸—: **à¸œà¸¹à¹‰à¸à¸±à¸à¸­à¸²à¸¨à¸±à¸¢**, **à¸Šà¹ˆà¸²à¸‡à¸‹à¹ˆà¸­à¸¡**, à¹à¸¥à¸° **à¸œà¸¹à¹‰à¸”à¸¹à¹à¸¥à¸£à¸°à¸šà¸š (Admin)**

ğŸŒ **Live Demo**: [https://project-dormfix.up.railway.app]([https://project-dormfix.up.railway.app](https://project-webtechnolohy-dormfix.up.railway.app/))

---

## âœ¨ à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¸«à¸¥à¸±à¸

- ğŸ” à¸£à¸°à¸šà¸š Login / Register 3 à¸šà¸—à¸šà¸²à¸— (à¸œà¸¹à¹‰à¸à¸±à¸à¸­à¸²à¸¨à¸±à¸¢ / à¸Šà¹ˆà¸²à¸‡à¸‹à¹ˆà¸­à¸¡ / à¹à¸­à¸”à¸¡à¸´à¸™)
- ğŸ“ à¹à¸ˆà¹‰à¸‡à¸‹à¹ˆà¸­à¸¡à¸à¸£à¹‰à¸­à¸¡à¹à¸™à¸šà¸£à¸¹à¸›à¸ à¸²à¸
- ğŸ”§ à¸Šà¹ˆà¸²à¸‡à¸£à¸±à¸šà¸‡à¸²à¸™ / à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¸£à¸¹à¸›à¸«à¸¥à¸±à¸‡à¸‹à¹ˆà¸­à¸¡ / à¸¢à¸à¹€à¸¥à¸´à¸à¸‡à¸²à¸™ (à¸à¸£à¹‰à¸­à¸¡à¹€à¸«à¸•à¸¸à¸œà¸¥)
- ğŸ’¬ à¸£à¸°à¸šà¸šà¹à¸Šà¸—à¸ à¸²à¸¢à¹ƒà¸™à¹à¸•à¹ˆà¸¥à¸°à¸„à¸³à¸£à¹‰à¸­à¸‡
- â­ à¸œà¸¹à¹‰à¸à¸±à¸à¸­à¸²à¸¨à¸±à¸¢à¹ƒà¸«à¹‰à¸„à¸°à¹à¸™à¸™à¹à¸¥à¸°à¸£à¸µà¸§à¸´à¸§à¸Šà¹ˆà¸²à¸‡
- ğŸ“Š Dashboard à¹à¸¢à¸à¸•à¸²à¸¡à¸ªà¸–à¸²à¸™à¸° (Pending / In-Progress / Resolved)
- ğŸ† à¸”à¸¹à¸£à¸µà¸§à¸´à¸§à¸£à¸²à¸¢à¸Šà¹ˆà¸²à¸‡à¸à¸£à¹‰à¸­à¸¡à¸„à¸°à¹à¸™à¸™à¹€à¸‰à¸¥à¸µà¹ˆà¸¢
- ğŸ‘¤ à¹à¸à¹‰à¹„à¸‚à¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œ (à¸Šà¸·à¹ˆà¸­, à¸£à¸¹à¸›à¸ à¸²à¸, à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™, à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£)
- ğŸ›¡ï¸ à¹à¸­à¸”à¸¡à¸´à¸™à¸ˆà¸±à¸”à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ / à¸ªà¸£à¹‰à¸²à¸‡à¸šà¸±à¸à¸Šà¸µ / à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸šà¸—à¸šà¸²à¸—
- ğŸŒ— à¸ªà¸¥à¸±à¸šà¸˜à¸µà¸¡à¸¡à¸·à¸”/à¸ªà¸§à¹ˆà¸²à¸‡ (Dark/Light Mode)

---

## ğŸ“¦ Tech Stack

| à¸ªà¹ˆà¸§à¸™ | à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µ |
|------|-----------|
| **Frontend** | React 19, Vite 7, Tailwind CSS v4, Axios, Lucide React, React Router v7 |
| **Backend** | Node.js, Express.js, Multer (à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¸£à¸¹à¸›), mysql2/promise |
| **Database** | MySQL (utf8mb4) |
| **Deployment** | Railway (Node.js + MySQL) |

---

## ğŸš€ à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ (Local Development)

### à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 1: Clone à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ

```bash
git clone https://github.com/Beyondeva/Project-webtechnolohy.git
cd Project-webtechnolohy
```

### à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 2: Import à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥

- à¹€à¸›à¸´à¸” **phpMyAdmin**: [http://localhost/phpMyAdmin](http://localhost/phpMyAdmin)
- à¸„à¸¥à¸´à¸ **Import** â†’ à¹€à¸¥à¸·à¸­à¸à¹„à¸Ÿà¸¥à¹Œ `database.sql` â†’ à¸à¸” **Import**
- à¸£à¸°à¸šà¸šà¸ˆà¸°à¸ªà¸£à¹‰à¸²à¸‡ database `dorm_maintenance` à¸à¸£à¹‰à¸­à¸¡à¸•à¸²à¸£à¸²à¸‡ + demo users

### à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 3: à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Database

à¹à¸à¹‰à¹„à¸‚à¹„à¸Ÿà¸¥à¹Œ `server.js` à¹ƒà¸«à¹‰à¸•à¸£à¸‡à¸à¸±à¸š MySQL à¸‚à¸­à¸‡à¸„à¸¸à¸“:

```js
const pool = mysql.createPool({
  host: process.env.MYSQLHOST || 'localhost',
  port: process.env.MYSQLPORT || 3306,
  user: process.env.MYSQLUSER || 'root',
  password: process.env.MYSQLPASSWORD || 'YOUR_PASSWORD',  // â† à¹à¸à¹‰à¸•à¸£à¸‡à¸™à¸µà¹‰
  database: process.env.MYSQLDATABASE || 'dorm_maintenance',
});
```

### à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 4: à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ Dependencies

```bash
# Backend
npm install

# Frontend
cd client
npm install
```

### à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 5: à¸£à¸±à¸™à¸£à¸°à¸šà¸š

à¹€à¸›à¸´à¸” **2 Terminal** à¸à¸£à¹‰à¸­à¸¡à¸à¸±à¸™:

```bash
# Terminal 1 â€” Backend (Port 5000)
node server.js

# Terminal 2 â€” Frontend (Port 5173)
cd client
npm run dev
```

à¹€à¸›à¸´à¸”à¹€à¸šà¸£à¸²à¸§à¹Œà¹€à¸‹à¸­à¸£à¹Œà¸—à¸µà¹ˆ **[http://localhost:5173](http://localhost:5173)**

---

## ğŸ‘¤ à¸šà¸±à¸à¸Šà¸µà¸—à¸”à¸¥à¸­à¸‡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ (Demo Users)

| Username | Password | à¸šà¸—à¸šà¸²à¸— |
|----------|----------|-------|
| `user1` | `pass1` | à¸œà¸¹à¹‰à¸à¸±à¸à¸­à¸²à¸¨à¸±à¸¢ |
| `user2` | `pass2` | à¸œà¸¹à¹‰à¸à¸±à¸à¸­à¸²à¸¨à¸±à¸¢ |
| `user3` | `pass3` | à¸œà¸¹à¹‰à¸à¸±à¸à¸­à¸²à¸¨à¸±à¸¢ |
| `tech1` | `pass1` | à¸Šà¹ˆà¸²à¸‡à¸‹à¹ˆà¸­à¸¡ |
| `tech2` | `pass2` | à¸Šà¹ˆà¸²à¸‡à¸‹à¹ˆà¸­à¸¡ |
| `admin` | `admin123` | à¸œà¸¹à¹‰à¸”à¸¹à¹à¸¥à¸£à¸°à¸šà¸š |

---

## ğŸ“‚ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ

```
PJWEB/
â”œâ”€â”€ server.js            â† Backend API (Express.js)
â”œâ”€â”€ database.sql         â† SQL à¸ªà¸£à¹‰à¸²à¸‡à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
â”œâ”€â”€ package.json         â† Backend dependencies + build script
â”œâ”€â”€ .gitignore
â”œâ”€â”€ uploads/             â† à¸£à¸¹à¸›à¸ à¸²à¸à¸—à¸µà¹ˆà¸­à¸±à¸›à¹‚à¸«à¸¥à¸” (à¸ªà¸£à¹‰à¸²à¸‡à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´)
â”œâ”€â”€ logo/                â† à¹‚à¸¥à¹‚à¸à¹‰à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ
â””â”€â”€ client/              â† Frontend (React + Vite)
    â”œâ”€â”€ public/
    â”‚   â””â”€â”€ logo.png         â† Favicon & Logo
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ api.js             â† Axios config (à¹ƒà¸Šà¹‰ env var)
    â”‚   â”œâ”€â”€ App.jsx            â† Routes
    â”‚   â”œâ”€â”€ index.css          â† Tailwind styles
    â”‚   â”œâ”€â”€ context/
    â”‚   â”‚   â”œâ”€â”€ AuthContext.jsx â† à¸ˆà¸±à¸”à¸à¸²à¸£ Login state
    â”‚   â”‚   â””â”€â”€ ThemeContext.jsxâ† à¸ˆà¸±à¸”à¸à¸²à¸£à¸˜à¸µà¸¡ (à¸¡à¸·à¸”/à¸ªà¸§à¹ˆà¸²à¸‡)
    â”‚   â”œâ”€â”€ hooks/
    â”‚   â”‚   â””â”€â”€ useThemeClasses.js â† Hook à¸ªà¸³à¸«à¸£à¸±à¸š class à¸˜à¸µà¸¡
    â”‚   â”œâ”€â”€ components/
    â”‚   â”‚   â”œâ”€â”€ Navbar.jsx     â† à¹à¸–à¸šà¸™à¸³à¸—à¸²à¸‡ + à¹‚à¸¥à¹‚à¸à¹‰ + à¸›à¸¸à¹ˆà¸¡à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸˜à¸µà¸¡
    â”‚   â”‚   â”œâ”€â”€ TicketChat.jsx â† à¸£à¸°à¸šà¸šà¹à¸Šà¸—à¹ƒà¸™ Ticket
    â”‚   â”‚   â”œâ”€â”€ StarRating.jsx â† à¸”à¸²à¸§à¹ƒà¸«à¹‰à¸„à¸°à¹à¸™à¸™
    â”‚   â”‚   â””â”€â”€ ProtectedRoute.jsx
    â”‚   â””â”€â”€ pages/
    â”‚       â”œâ”€â”€ Login.jsx       â† à¸«à¸™à¹‰à¸²à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š
    â”‚       â”œâ”€â”€ Register.jsx    â† à¸«à¸™à¹‰à¸²à¸ªà¸¡à¸±à¸„à¸£à¸ªà¸¡à¸²à¸Šà¸´à¸
    â”‚       â”œâ”€â”€ Dashboard.jsx   â† à¸«à¸™à¹‰à¸²à¹à¸”à¸Šà¸šà¸­à¸£à¹Œà¸” (à¹à¸¢à¸à¸•à¸²à¸¡ status)
    â”‚       â”œâ”€â”€ CreateTicket.jsxâ† à¸«à¸™à¹‰à¸²à¹à¸ˆà¹‰à¸‡à¸‹à¹ˆà¸­à¸¡
    â”‚       â”œâ”€â”€ TicketDetail.jsxâ† à¸«à¸™à¹‰à¸²à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¸„à¸³à¸£à¹‰à¸­à¸‡ + à¹à¸Šà¸—
    â”‚       â”œâ”€â”€ Users.jsx       â† à¸«à¸™à¹‰à¸²à¸ˆà¸±à¸”à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ (Admin)
    â”‚       â””â”€â”€ Profile.jsx     â† à¸«à¸™à¹‰à¸²à¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œ
    â””â”€â”€ package.json    â† Frontend dependencies
```

---

## ğŸŒ Deployment (Railway)

à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œà¸™à¸µà¹‰ deploy à¸šà¸™ [Railway](https://railway.app) à¸‹à¸¶à¹ˆà¸‡à¸£à¸§à¸¡ Node.js + MySQL à¹ƒà¸™à¸—à¸µà¹ˆà¹€à¸”à¸µà¸¢à¸§

### Environment Variables à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰

| Variable | à¹ƒà¸Šà¹‰à¹‚à¸”à¸¢ | à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢ |
|----------|--------|---------|
| `MYSQL_URL` | Backend | Connection string à¸ªà¸³à¸«à¸£à¸±à¸š MySQL |
| `PORT` | Backend | Port à¸—à¸µà¹ˆ Railway à¸à¸³à¸«à¸™à¸” (auto) |
| `VITE_API_URL` | Frontend | URL à¸‚à¸­à¸‡ API (à¸§à¹ˆà¸²à¸‡ = same origin) |

### à¸§à¸´à¸˜à¸µ Deploy

1. à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œà¸šà¸™ Railway â†’ à¹€à¸Šà¸·à¹ˆà¸­à¸¡ GitHub repo
2. à¹€à¸à¸´à¹ˆà¸¡ MySQL service â†’ Reference `MYSQL_URL` variable
3. à¸£à¸±à¸™ `database.sql` à¹€à¸à¸·à¹ˆà¸­à¸ªà¸£à¹‰à¸²à¸‡à¸•à¸²à¸£à¸²à¸‡
4. à¸à¸” **Generate Domain** à¹ƒà¸™ Settings â†’ Networking

---

## ğŸ“œ API Endpoints

| Method | Endpoint | à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢ |
|--------|----------|---------|
| POST | `/api/login` | à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š |
| POST | `/api/register` | à¸ªà¸¡à¸±à¸„à¸£à¸ªà¸¡à¸²à¸Šà¸´à¸ |
| GET | `/api/tickets` | à¸”à¸¹ Tickets à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” |
| POST | `/api/tickets` | à¸ªà¸£à¹‰à¸²à¸‡ Ticket à¹ƒà¸«à¸¡à¹ˆ |
| GET | `/api/tickets/:id` | à¸”à¸¹à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸” Ticket |
| PUT | `/api/tickets/:id/assign` | à¸¡à¸­à¸šà¸«à¸¡à¸²à¸¢à¸Šà¹ˆà¸²à¸‡ |
| PUT | `/api/tickets/:id/status` | à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸ªà¸–à¸²à¸™à¸° |
| PUT | `/api/tickets/:id/rate` | à¹ƒà¸«à¹‰à¸„à¸°à¹à¸™à¸™ + à¸£à¸µà¸§à¸´à¸§ |
| PUT | `/api/tickets/:id/cancel` | à¸¢à¸à¹€à¸¥à¸´à¸ Ticket |
| GET | `/api/tickets/:id/messages` | à¸”à¸¹à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹à¸Šà¸— |
| POST | `/api/tickets/:id/messages` | à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹à¸Šà¸— |
| GET | `/api/technician-ratings` | à¸„à¸°à¹à¸™à¸™à¸Šà¹ˆà¸²à¸‡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” |
| GET | `/api/technician-reviews/:id` | à¸£à¸µà¸§à¸´à¸§à¸£à¸²à¸¢à¸Šà¹ˆà¸²à¸‡ |
| GET | `/api/users` | à¸”à¸¹à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” (Admin) |
| POST | `/api/users` | à¸ªà¸£à¹‰à¸²à¸‡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ (Admin) |
| PUT | `/api/users/:id` | à¹à¸à¹‰à¹„à¸‚à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ |
| PUT | `/api/users/:id/role` | à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸šà¸—à¸šà¸²à¸— (Admin) |
| PUT | `/api/profile/:id` | à¹à¸à¹‰à¹„à¸‚à¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œ |
